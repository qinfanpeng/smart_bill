# -*- coding: utf-8 -*-
require 'spec_helper'

describe "User Actions" do

  describe "Logoin" do
    let(:user) { FactoryGirl.create(:user) }
    before { visit signin_path }

    context "When I login with correct information"do
      before do
        fill_in '用户名',  with: user.name
        fill_in '密码',    with: user.password
        click_button '登录'
      end

      it "Then I should be taken to the index page" do
        page.should have_selector 'h1', text: '账单列表'
      end
      it "Then I should see the welcom notice" do
        page.should have_selector('div.alert-success', text: '欢迎您')
      end

    end

  end

  describe "Logout" do
    pending 'todo ......'
  end
end
